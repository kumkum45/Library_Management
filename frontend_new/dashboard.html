<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard | Library Management System</title>
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <!-- Top Navbar -->
  <nav class="navbar">
    <div class="navbar__left">
      <div class="navbar__logo">üìö Library System</div>
    </div>

    <div class="navbar__center">
      <div class="search-bar">
        <input 
          type="text" 
          id="globalSearch" 
          class="search-bar__input" 
          placeholder="Search books, authors..."
        >
        <button class="search-bar__btn" aria-label="Search">üîç</button>
      </div>
    </div>

    <div class="navbar__right">
      <div class="dropdown">
        <button class="dropdown__trigger" aria-haspopup="true" aria-expanded="false">
          ‚â° Menu
        </button>
        <ul class="dropdown__menu" role="menu" style="display: none;">
          <li><a href="#" class="dropdown__item" data-section="books">üìñ Books</a></li>
          <li><a href="#" class="dropdown__item" data-section="authors">‚úçÔ∏è Authors</a></li>
          <li><a href="#" class="dropdown__item" data-section="users">üë• Users</a></li>
          <li><hr style="margin: 8px 0;"></li>
          <li><a href="#" class="dropdown__item" id="logoutBtn">üö™ Logout</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="dashboard">
    <!-- Books Section -->
    <section id="booksSection" class="section active" style="display: block;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 class="section__title">üìñ Search Books</h2>
        <button class="btn-add-book" id="addBookBtn">‚ûï Add Book</button>
      </div>
      
      <div class="filters">
        <div class="filter-group">
          <label for="filterBookName" class="filter-label">Book Name</label>
          <input 
            type="text" 
            id="filterBookName" 
            class="filter-input" 
            placeholder="e.g., Clean Code"
          >
        </div>

        <div class="filter-group">
          <label for="filterAuthor" class="filter-label">Author Name</label>
          <input 
            type="text" 
            id="filterAuthor" 
            class="filter-input" 
            placeholder="e.g., Robert C. Martin"
          >
        </div>

        <div class="filter-group">
          <label for="filterCategory" class="filter-label">Category</label>
          <input 
            type="text" 
            id="filterCategory" 
            class="filter-input" 
            placeholder="e.g., Programming"
          >
        </div>

        <div class="filter-group">
          <label for="filterStatus" class="filter-label">Status</label>
          <select id="filterStatus" class="filter-input">
            <option value="">All</option>
            <option value="available">Available</option>
            <option value="issued">Issued</option>
          </select>
        </div>

        <button class="btn-search" id="searchBooksBtn">Search</button>
        <button class="btn-reset" id="resetBooksBtn">Reset</button>
      </div>

      <!-- View Controls -->
      <div class="view-controls">
        <div class="view-toggle-group">
          <button class="view-toggle-btn active" id="viewListBtn" title="All Books">
            <span>‚ò∞</span> All Books
          </button>
          <button class="view-toggle-btn" id="viewTableBtn" title="Available Books">
            <span>‚â°</span> Available Books
          </button>
        </div>

        <div class="sort-group">
          <label for="sortBy">Sort by:</label>
          <select id="sortBy" class="sort-select">
            <option value="title">Title (A-Z)</option>
            <option value="title-desc">Title (Z-A)</option>
            <option value="author">Author (A-Z)</option>
            <option value="category">Category</option>
            <option value="status">Status</option>
          </select>
        </div>
      </div>

      <div id="booksResults" class="results">
        <div class="loading" style="display: none;">Loading...</div>
        <div class="empty-state" style="display: none;">
          <p>No books found. Try adjusting your filters.</p>
        </div>
        <div id="booksContainer" class="books-grid"></div>
        <div id="booksListContainer" class="books-list" style="display: none;"></div>
        <div id="booksTable" class="table-container" style="display: none;"></div>
      </div>
    </section>

    <!-- Authors Section -->
    <section id="authorsSection" class="section" style="display: none;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 class="section__title">‚úçÔ∏è Authors</h2>
        <button class="btn-add-book" id="addAuthorBtn">‚ûï Add Author</button>
      </div>
      
      <div id="authorsResults" class="results">
        <div class="loading" style="display: none;">Loading...</div>
        <div class="empty-state" style="display: none;">
          <p>No authors found. Add one to get started!</p>
        </div>
        <div id="authorsContainer" class="authors-grid"></div>
      </div>
    </section>

    <!-- Users Section -->
    <section id="usersSection" class="section" style="display: none;">
      <h2 class="section__title">üë• Users</h2>
      
      <div id="usersResults" class="results">
        <div class="loading" style="display: none;">Loading...</div>
        <div class="empty-state" style="display: none;">
          <p>No users found.</p>
        </div>
        <div id="usersTable" class="table-container"></div>
      </div>
    </section>

    <!-- User Details Modal -->
    <div id="userDetailModal" class="modal" style="display: none;">
      <div class="modal__content">
        <button class="modal__close" id="closeModal">&times;</button>
        <h3 class="modal__title" id="userDetailTitle">User Details</h3>
        <div id="userDetailBody" class="modal__body"></div>
      </div>
    </div>

    <!-- Add Book Modal -->
    <div id="addBookModal" class="modal" style="display: none;">
      <div class="modal__content modal__content--large">
        <button class="modal__close" id="closeAddBookModal">&times;</button>
        <h3 class="modal__title">‚ûï Add New Book</h3>
        <form id="addBookForm" class="add-book-form">
          <div class="form-group">
            <label for="bookTitle">Book Title *</label>
            <input type="text" id="bookTitle" class="form-control" placeholder="Enter book title" required>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="authorName">Author Name *</label>
              <input type="text" id="authorName" class="form-control" placeholder="Enter author name" required>
            </div>
            <div class="form-group">
              <label for="bookISBN">ISBN</label>
              <input type="text" id="bookISBN" class="form-control" placeholder="e.g., 978-3-16-148410">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="bookCategory">Category *</label>
              <input type="text" id="bookCategory" class="form-control" placeholder="e.g., Programming" required>
            </div>
            <div class="form-group">
              <label for="bookStatus">Status *</label>
              <select id="bookStatus" class="form-control" required>
                <option value="">Select Status</option>
                <option value="available">Available</option>
                <option value="issued">Issued</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="bookDescription">Description</label>
            <textarea id="bookDescription" class="form-control" placeholder="Book description" rows="4"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-cancel" id="cancelAddBook">Cancel</button>
            <button type="submit" class="btn-submit">Add Book</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Book Modal -->
    <div id="editBookModal" class="modal" style="display: none;">
      <div class="modal__content modal__content--large">
        <button class="modal__close" id="closeEditBookModal">&times;</button>
        <h3 class="modal__title">‚úèÔ∏è Edit Book</h3>
        <form id="editBookForm" class="add-book-form">
          <input type="hidden" id="editBookId">
          
          <div class="form-group">
            <label for="editBookTitle">Book Title *</label>
            <input type="text" id="editBookTitle" class="form-control" placeholder="Enter book title" required>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="editAuthorName">Author Name *</label>
              <input type="text" id="editAuthorName" class="form-control" placeholder="Enter author name" required>
            </div>
            <div class="form-group">
              <label for="editBookISBN">ISBN</label>
              <input type="text" id="editBookISBN" class="form-control" placeholder="e.g., 978-3-16-148410">
            </div>
          </div>

          <div class="form-row">
            <div class="form-group">
              <label for="editBookCategory">Category *</label>
              <input type="text" id="editBookCategory" class="form-control" placeholder="e.g., Programming" required>
            </div>
            <div class="form-group">
              <label for="editBookStatus">Status *</label>
              <select id="editBookStatus" class="form-control" required>
                <option value="">Select Status</option>
                <option value="available">Available</option>
                <option value="issued">Issued</option>
              </select>
            </div>
          </div>

          <div class="form-group">
            <label for="editBookDescription">Description</label>
            <textarea id="editBookDescription" class="form-control" placeholder="Book description" rows="4"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-cancel" id="cancelEditBook">Cancel</button>
            <button type="submit" class="btn-submit">Update Book</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Add Author Modal -->
    <div id="addAuthorModal" class="modal" style="display: none;">
      <div class="modal__content">
        <button class="modal__close" id="closeAddAuthorModal">&times;</button>
        <h3 class="modal__title">‚ûï Add New Author</h3>
        <form id="addAuthorForm" class="add-book-form">
          <div class="form-group">
            <label for="authorNameInput">Author Name *</label>
            <input type="text" id="authorNameInput" class="form-control" placeholder="Enter author name" required>
          </div>

          <div class="form-group">
            <label for="authorBio">Bio</label>
            <textarea id="authorBio" class="form-control" placeholder="Author biography" rows="4"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-cancel" id="cancelAddAuthor">Cancel</button>
            <button type="submit" class="btn-submit">Add Author</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Edit Author Modal -->
    <div id="editAuthorModal" class="modal" style="display: none;">
      <div class="modal__content">
        <button class="modal__close" id="closeEditAuthorModal">&times;</button>
        <h3 class="modal__title">‚úèÔ∏è Edit Author</h3>
        <form id="editAuthorForm" class="add-book-form">
          <input type="hidden" id="editAuthorId">
          
          <div class="form-group">
            <label for="editAuthorNameInput">Author Name *</label>
            <input type="text" id="editAuthorNameInput" class="form-control" placeholder="Enter author name" required>
          </div>

          <div class="form-group">
            <label for="editAuthorBio">Bio</label>
            <textarea id="editAuthorBio" class="form-control" placeholder="Author biography" rows="4"></textarea>
          </div>

          <div class="form-actions">
            <button type="button" class="btn-cancel" id="cancelEditAuthor">Cancel</button>
            <button type="submit" class="btn-submit">Update Author</button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <script src="dashboard.js?v=1"></script>
</body>
</html>
